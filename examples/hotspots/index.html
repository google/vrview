API Test

<div id="vrview"></div>

<button onclick="onPlay()">Play</button>
<button onclick="onPause()">Pause</button>
<button onclick="onMute()">Mute</button>
<button onclick="onUnmute()">Unmute</button>

<script src="../../build/vrview.js"></script>

<script>
var vrView;

function onLoad() {
  vrView = new VRView.Player('#vrview', {
    width: '100%',
    height: 480,
    image: 'examples/pano/andes_2048.jpg',
    preview: 'examples/pano/andes_512.jpg',
    is_stereo: true,
    //is_debug: true,
    //default_yaw: 90,
    //is_yaw_only: true,
    is_autopan_off: true,
    //is_vr_off: true,
  });
  vrView.on('ready', onVRViewReady);
  vrView.on('modechange', onModeChange);
  vrView.on('click', onHotspotClick);
  vrView.on('error', onVRViewError);
}

function onVRViewReady(e) {
  vrView.addHotspot('coral', {
    pitch: 0,
    yaw: 30,
    radius: 0.1,
    distance: 2
  });
}

function onModeChange(e) {
  console.log('onModeChange', e.mode);
}

function onHotspotClick(e) {
  console.log('onHotspotClick', e.id);

  loadScene(e.id);
}

function loadScene(id) {
  switch (id) {
    case 'coral': 
      vrView.setContent({
        image: 'examples/coral.jpg',
        preview: 'examples/coral-preview.jpg',
        is_stereo: true,
        is_autopan_off: true
      });
      vrView.addHotspot('mountain', {
        pitch: 30,
        yaw: -50,
        radius: 0.05,
        distance: 1
      });
      break;
    case 'mountain':
      vrView.setContent({
        image: 'examples/pano/andes_2048.jpg',
        preview: 'examples/pano/andes_512.jpg',
        is_stereo: true,
        is_autopan_off: true
      });
      vrView.addHotspot('coral', {
        pitch: 0,
        yaw: 30,
        radius: 0.1,
        distance: 2
      });
      break;
    default:
      console.log('Cannot load scene with unknown id: %s.', id);
  }
}

function onPlay() {
  vrView.play();
}

function onPause() {
  vrView.pause();
}

function onMute() {
  vrView.setVolume(0);
}

function onUnmute() {
  vrView.setVolume(1);
}

function onVRViewError(e) {
  console.log('Error! %s', e.message);
}

window.addEventListener('load', onLoad);
</script>
