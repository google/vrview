<!DOCTYPE html>
<html lang="en">
	<head>
		<title>VR view</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <link rel="stylesheet" href="style.css">
	</head>
	<body>
    <div id="error" class="dialog">
      <div class="wrap">
        <h1 class="title">Error</h1>
        <p class="message">An unknown error occurred.</p>
      </div>
    </div>

    <div id="play-overlay">
      <img src="images/ic_play_arrow_white_24dp.svg"/>
    </div>

    <a id="watermark" href="http://g.co/vr/view" target="_blank">
      <img src="images/ic_info_outline_black_24dp.svg"/>
    </a>

    <script>
WebVRConfig = {
  BUFFER_SCALE: 0.5
};
    </script>

    <script>
      (function () {
        function loadScript(src, options) {
          var script = document.createElement('script');
          script.src = src;
          script.async = false;
          document.head.appendChild(script);

          if (typeof options !== 'undefined') {
            script.onload = options.callbackSuccess;
            script.onerror = options.callbackError;
          }
        }

        function loadPageScripts () {
          var files = [
            'node_modules/three/build/three.js',
            'node_modules/three/examples/js/controls/VRControls.js',
            'node_modules/three/examples/js/effects/VREffect.js',
            'build/embed.js'
          ];

          if (!('getVRDisplays' in navigator)) {
            files.unshift(
              'node_modules/webvr-polyfill/build/webvr-polyfill.js'
            );
          }

          // Load each file. Since async is false, these will be
          // executed in order.
          for (var i = 0; i < files.length; i++) {
            loadScript(files[i]);
          }
        }

        if (!'Promise' in window) {
          return loadScript('node_modules/es6-promise/es6-promise.min.js',
            loadPageScripts, function(err) {
              console.error(err);
            });
        }

        loadPageScripts();
      })();
    </script>
	</body>
</html>
